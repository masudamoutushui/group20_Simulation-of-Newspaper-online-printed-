<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="394.0" prefWidth="798.0" style="-fx-font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; -fx-background-color: #fafafa;" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/21" fx:controller="com.oop.group20.group20_simulationofnewspaperonlineprinted.Muaaz.Goal6Controller">

    <left>
        <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: #f0f0f0; -fx-border-width: 0 1 0 0; -fx-border-color: #ddd;">
            <Button fx:id="composeButton" onAction="#handleCompose" style="-fx-font-weight: bold; -fx-background-color: #3b82f6; -fx-text-fill: white;" text="✉️ Compose" />
            <RadioButton fx:id="inboxRadio" onAction="#handleFolderSwitch" selected="true" style="-fx-font-size: 14;" text="Inbox">
            <toggleGroup>
               <ToggleGroup fx:id="folderToggleGroup" />
            </toggleGroup></RadioButton>
            <RadioButton fx:id="sentRadio" onAction="#handleFolderSwitch" style="-fx-font-size: 14;" text="Sent" toggleGroup="$folderToggleGroup" />
        </VBox>
    </left>

<!--    <fx:define>-->
<!--        <ToggleGroup fx:id="folderToggleGroup" />-->
<!--    </fx:define>-->

    <center>
        <TableView fx:id="messagesTable" prefHeight="557.0" prefWidth="121.0" style="-fx-border-color: #ddd; -fx-border-width: 0 1 0 0;">
            <columns>
                <TableColumn fx:id="senderCol" prefWidth="120" text="Sender" />
                <TableColumn fx:id="recipientCol" prefWidth="120" text="Recipient" />
                <TableColumn fx:id="subjectCol" prefWidth="160" text="Subject" />
                <TableColumn fx:id="timeCol" prefWidth="140" text="Date/Time" />
            </columns>
        </TableView>
    </center>

    <right>
        <VBox prefHeight="561.0" prefWidth="586.0" spacing="10" style="-fx-padding: 20;">
            <Label fx:id="messageTitleLabel" style="-fx-font-weight: bold; -fx-font-size: 18; -fx-text-fill: #333;" text="Select a message or Compose new" />

            <!-- Reading pane -->
            <VBox fx:id="readPane" spacing="8" style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-background-radius: 5;">
                <Label style="-fx-font-weight: bold; -fx-text-fill: #555;" text="Subject:" />
                <Label fx:id="readSubjectLabel" style="-fx-font-size: 16;" wrapText="true" />

                <HBox spacing="15">
                    <VBox spacing="4">
                        <Label style="-fx-font-weight: bold; -fx-text-fill: #555;" text="From:" />
                        <Label fx:id="readSenderLabel" />
                    </VBox>
                    <VBox spacing="4">
                        <Label style="-fx-font-weight: bold; -fx-text-fill: #555;" text="To:" />
                        <Label fx:id="readRecipientLabel" />
                    </VBox>
                    <VBox alignment="TOP_RIGHT" spacing="4">
                        <Label style="-fx-font-weight: bold; -fx-text-fill: #555;" text="Date:" />
                        <Label fx:id="readTimestampLabel" />
                    </VBox>
                </HBox>

                <Separator />

                <TextArea fx:id="readContentArea" editable="false" prefHeight="300" style="-fx-font-size: 14; -fx-background-color: #fefefe; -fx-border-color: #ccc; -fx-border-radius: 4;" wrapText="true" />

            </VBox>

            <!-- Compose pane -->
            <VBox fx:id="composePane" managed="false" spacing="10" style="-fx-background-color: white; -fx-padding: 15; -fx-border-color: #ddd; -fx-border-radius: 5; -fx-background-radius: 5;" visible="false">
                <Label style="-fx-font-weight: bold; -fx-font-size: 18; -fx-text-fill: #333;" text="Compose Message" />
                <TextField fx:id="composeRecipientField" promptText="Recipient" style="-fx-font-size: 14;" />
                <TextField fx:id="composeSubjectField" promptText="Subject" style="-fx-font-size: 14;" />
                <TextArea fx:id="composeContentArea" prefHeight="300" promptText="Write your message here..." style="-fx-font-size: 14;" wrapText="true" />

                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Button onAction="#handleSendMessage" style="-fx-background-color: #22c55e; -fx-text-fill: white; -fx-font-weight: bold;" text="Send" />
                    <Button onAction="#handleCancelCompose" style="-fx-background-color: #ef4444; -fx-text-fill: white; -fx-font-weight: bold;" text="Cancel" />
                </HBox>
            </VBox>
        </VBox>
    </right>
</BorderPane>
